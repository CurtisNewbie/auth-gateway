spring:
  application:
    name: auth-gateway
  profiles:
    active: dev
  cloud:
    # route based on services registered
    gateway:
      discovery:
        locator:
          enabled: true
          lowerCaseServiceId: true
      httpclient:
        connect-timeout: 1000
        response-timeout: 1h # 1h is for file-service
      # cors
      globalcors:
        cors-configurations:
          '[/**]':
            allowedOrigins: "*"
            allowedMethods: "*"
      routes:
        - id: fantahsea_route
          uri: ${fantahsea-path}
          predicates:
            - Path=/fantahsea/**
          filters:
            - RewritePath=/fantahsea/(?<segment>.*),/$\{segment}
        - id: dtaskgo_route
          uri: ${dtaskgo-path}
          predicates:
            - Path=/dtaskgo/**
          filters:
            - RewritePath=/dtaskgo/(?<segment>.*),/$\{segment}
  sleuth:
    baggage:
      remote-fields:
        - id
        - username
        - role
        - services
        - userno

server:
  port: 7070

jwt-module:
  issuer: yongj.zhuang-auth-service
